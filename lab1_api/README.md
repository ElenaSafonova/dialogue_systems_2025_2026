# Лабораторная работа 1: Работа с API языковых моделей (Mistral AI)

## Цель

Освоить работу с API крупных языковых моделей на примере Mistral AI, изучить параметры генерации и их влияние на результаты.

## Задачи

1. Зарегистрироваться на [Mistral AI](https://console.mistral.ai/) и получить API ключ.
2. Настроить окружение и установить необходимые зависимости.
3. Реализовать базовый запрос к API (chat completion).
4. Исследовать влияние параметров генерации:
   - `temperature` — управление "креативностью" модели
   - `max_tokens` — ограничение длины ответа
   - `top_p` — nucleus sampling
5. Провести эксперименты с разными значениями параметров и задокументировать наблюдения.

## Требования

- **Python 3.11** или выше
- **API ключ Mistral AI** (бесплатные кредиты для тестирования)

## Установка и настройка

1. **Получение API ключа:**
   - Зарегистрируйтесь на [console.mistral.ai](https://console.mistral.ai/)
   - Перейдите в раздел API Keys и создайте новый ключ
   - Сохраните ключ в переменную окружения:
   ```bash
   export MISTRAL_API_KEY="your_api_key_here"
   ```

2. **Создание виртуального окружения и установка зависимостей:**
   ```bash
   cd lab1_api
   python -m venv .venv
   source .venv/bin/activate  # macOS/Linux
   # .venv\Scripts\activate   # Windows
   pip install -r requirements.txt
   ```

3. **Запуск эксперимента:**
   ```bash
   python code/api_experiment.py
   ```

## Параметры генерации

### Temperature (0.0 - 2.0)
- **0.0 - 0.3**: Детерминированные, точные ответы. Подходит для фактов, кода.
- **0.5 - 0.7**: Баланс между точностью и креативностью. Универсальное значение.
- **0.8 - 1.5**: Креативные, разнообразные ответы. Подходит для генерации идей.

### Max Tokens
Ограничивает максимальную длину ответа модели. Влияет на:
- Детализацию ответа
- Стоимость запроса
- Время генерации

### Top P (0.0 - 1.0)
Nucleus sampling — отсекает маловероятные токены:
- **0.1**: Только самые вероятные токены
- **0.9**: Широкий выбор токенов
- **1.0**: Все токены учитываются

## Доступные модели Mistral

| Модель | Описание | Контекст |
|--------|----------|----------|
| `mistral-small` | Быстрая и экономичная | 32k |
| `mistral-medium` | Баланс качества и скорости | 32k |
| `mistral-large` | Максимальное качество | 128k |

## Ожидаемые результаты

После выполнения лабораторной работы студент должен:
- Уметь отправлять запросы к Mistral API
- Понимать влияние параметров на генерацию
- Уметь выбирать оптимальные параметры под конкретную задачу
